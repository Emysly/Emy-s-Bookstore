<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head th:replace="common/header :: common-header"/>
<body>
<nav th:replace="common/header :: common-navbar"/>
<hr>
<div class="hero-image">
    <img src="https://www.wholelifechallenge.com/wp-content/uploads/2018/06/e-book-header.jpg"
         class="img-responsive mb-5" width="100%"/>
</div>
<div class="container">
    <div class="row">
        <div class="col-6">
            <h2 class="section-headline"><span th:text="${#strings.toUpperCase(user.username)}"></span></h2>
            <ul class="nav nav-tabs">
                <li class="nav-item" th:classappend="${classActiveEdit}? 'active'">
                    <a class="nav-link" data-toggle="tab" href="#edit">Edit</a>
                </li>
                <li class="nav-item" th:classappend="${classActiveOrders}? 'active'">
                    <a class="nav-link" data-toggle="tab" href="#order">Order</a>
                </li>
                <li class="nav-item" th:classappend="${classActiveBilling}? 'active'">
                    <a class="nav-link" data-toggle="tab" href="#billing">Billing</a>
                </li>
                <li class="nav-item" th:classappend="${classActiveShipping}? 'active'">
                    <a class="nav-link" data-toggle="tab" href="#shipping">Shipping</a>
                </li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane mt-3" id="edit" th:classappend="${classActiveEdit}? 'in active'">
                    <div class="alert alert-danger" th:if="${incorrectPassword}">
                        <strong>Incorrect Password!</strong> Pleae enter the correct
                        password for the current user.
                    </div>

                    <div class="alert alert-success" th:if="${updateSuccess}">
                        <strong>Update Success!</strong>
                    </div>

                    <form th:action="@{/updateUserInfo}" method="post">
                        <input type="hidden" name="id" th:value="${user.id}"/>

                        <div class="bg-info" th:if="${updateUserInfo}">User info
                            updated.
                        </div>

                        <div class="form-group">
                            <label for="firstname">First Name</label> <input
                                type="text" class="form-control" id="firstname"
                                name="firstname" th:value="${user.firstname}"/>
                        </div>
                        <div class="form-group">
                            <label for="lastname">Last Name</label> <input type="text"
                                                                           class="form-control" id="lastname"
                                                                           name="lastname"
                                                                           th:value="${user.lastname}"/>
                        </div>

                        <div class="form-group">
                            <label for="username">Username</label> ' <input type="text"
                                                                            class="form-control" id="username"
                                                                            name="username"
                                                                            th:value="${user.username}"/>
                        </div>
                        <div class="form-group">
                            <label for="currentPassword">Current Password</label> ' <input
                                type="password" class="form-control" id="currentPassword"
                                name="password" th:value="${currentPassword}"/>
                        <p style="color: #828282">Enter your current password to
                            change the email address or password.</p>
                        </div>

                        <div class="form-group">
                            <label for="email">* Email Address</label> ' <input
                                type="text" class="form-control" id="email" name="email"
                                th:value="${user.email}"/>
                        <p style="color: #828282">A valid email address. All
                            emails from the system withll be sent to this address. The
                            email address is not made public and will only be used if you
                            wish to receive a new password or wish to receive certain
                            notification.</p>
                        </div>

                        <div class="form-group">
                            <label for="txtNewPassword">Password</label>&nbsp;<span
                                id="checkPasswordMatch" style="color: red;"></span> <input
                                type="password" class="form-control" id="txtNewPassword"
                                name="newPassword"/>
                        </div>

                        <div class="form-group">
                            <label for="txtConfirmPassword">Confirm Password</label> ' <input
                                type="password" class="form-control" id="txtConfirmPassword"/>
                        <p style="color: #828282">To change the current user
                            password, enter the new password in both fields.</p>
                        </div>

                        <button id="updateUserInfoButton" type="submit"
                                class="btn btn-primary">Save All
                        </button>
                    </form>
                </div><!--/tab-pane-->
            </div>
        </div>
    </div>
</div>
</div>
<div th:replace="common/header :: common-body-bottom-script"/>
</body>
</html>